$tok-active-bg: rgba(#000, 0.05);

.article-display {

  article {
    max-width: $article-text-width;

    article-parser {
      section {
        margin: 1rem 0;
        padding: 1rem 0;

        &:first-child {
          margin-top: 0;
        }

        &:last-child {
          margin-bottom: 0;
        }

        section {
          padding-bottom: 0;
        }
      }
    }

    .article-meta {
      border-bottom: 1px solid rgba(#000, 0.13);

      .article-title {
        font-size: 2.5em;
        margin-bottom: 0em;
      }
    }

    h1 {
      font-size: 2.1em;
    }

    h2 {
      font-size: 1.9em;
    }

    h3 {
      font-size: 1.7em;
    }

    h4 {
      font-size: 1.5em;
    }

    h5 {
      font-size: 1.3em;
    }

    h6 {
      font-size: 1.1em;
    }

    h1, h2, h3, h4, h5, h6 {
      margin-bottom: 0.3rem;

      + p {
        margin-top: 0;
      }
    }

    cite {
      font-style: normal;
    }
  }

  .toc > ol {
    list-style: none;
    margin: 0;
    padding: 0;

    ol {
      list-style: none;
      margin: 0;
      padding: 0;
      margin-left: 1em;
      display: none;
    }

    li {
      margin: 0.3em 0;

      a {
        color: inherit;
        display: block;
        padding: 0.3em 0.6em;
        border-radius: 4px;
        outline: 0;
        text-decoration: none;

        &:hover {
          background: $tok-active-bg;
        }

        &:focus {
          color: inherit;
          background: inherit;
        }
      }

      &.active {
        & > a {
          background: $tok-active-bg;
          color: #b88554;
        }

        & > ol {
          display: block;
        }
      }
    }
  }

  .links > ul {
    margin: 0;
    padding: 0;
    list-style: none;

    li {
      position: relative;
      line-height: 1.3;
      margin: 0 0 1em;
      font-style: italic;
      padding-left: 1.5em;

      .icon {
        position: absolute;
        left: 0;
        top: 1px;
      }

      a {
        text-decoration: none;
        color: inherit;
      }
    }
  }

  .notes {
    font-size: 0.9em;
    line-height: 1.3;
    padding: 0.5rem;

    ol {
      margin: 0;
      padding: 0 0 0 1.5em;
      list-style: none;
      counter-reset: notes;

      li {
        position: relative;
        margin: 0.5rem 0;
        color: #777;
        cursor: pointer;

        &:before {
          position: absolute;
          left: -1.5em;
          content: counter(notes) '.';
          counter-increment: notes;
        }

        > a {
          display: block;
          width: 100%;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          text-decoration: none;
          color: inherit;
        }

        &.active {
          color: black;
          cursor: auto;

          > a {
            white-space: normal;
          }
        }

        p {
          margin: 0.6em 0;

          &:first-child {
            margin-top: 0;
          }

          &:last-child {
            margin-bottom: 0;
          }
        }
      }
    }
  }

  .refs > ol {
    margin: 0;
    font-size: 0.9em;

    list-style: none;
    padding: 0.5rem;

    li {
      text-indent: -1.5rem;
      padding-left: 1.5rem;
    }
  }

}
